function v(){const a=e=>{e.style.maxHeight=e.scrollHeight+"vh"},d=e=>{e.style.maxHeight="0px"},i=document.getElementById("menu-btn"),o=document.getElementById("mobile-menu"),u=document.getElementById("top-menu"),[y,b,f]=i.querySelectorAll(".line");i.addEventListener("click",()=>{const e=i.getAttribute("aria-expanded")==="true";i.setAttribute("aria-expanded",String(!e)),y.classList.toggle("top-rotate"),b.classList.toggle("mid-fade"),f.classList.toggle("bot-rotate"),e?(d(o),document.body.classList.remove("overflow-hidden"),u.classList.remove("hidden")):(a(o),document.body.classList.add("overflow-hidden"),u.classList.add("hidden")),e?(d(o),document.querySelectorAll("[data-accordion-panel]").forEach(n=>m(n))):a(o)});const x=document.querySelectorAll("[data-accordion-trigger]");function h(e,n,t){a(e),n.setAttribute("aria-expanded","true"),t==null||t.classList.add("chev-rot")}function m(e,n,t){d(e),n==null||n.setAttribute("aria-expanded","false"),t==null||t.classList.remove("chev-rot")}x.forEach(e=>{const n=e.getAttribute("aria-controls"),t=document.getElementById(n),r=e.querySelector(".chev"),l=s=>{if(s.type==="keydown"&&!(s.key==="Enter"||s.key===" "))return;s.preventDefault(),e.getAttribute("aria-expanded")==="true"?m(t,e,r):h(t,e,r),a(o)};e.addEventListener("click",l),e.addEventListener("keydown",l)});const p=document.querySelectorAll(".parent-link");p.forEach(e=>{const n=e.getAttribute("aria-controls"),t=document.getElementById(n),r=e.querySelector(".chev");e.addEventListener("click",l=>{e.getAttribute("aria-expanded")==="true"?e.setAttribute("aria-expanded","false"):(l.preventDefault(),p.forEach(c=>{if(c!==e){const L=c.getAttribute("aria-controls"),A=document.getElementById(L),E=c.querySelector(".chev");c.setAttribute("aria-expanded","false"),d(A),E.classList.remove("chev-rot")}}),e.setAttribute("aria-expanded","true"),t.style.maxHeight=t.scrollHeight+"px",r.classList.add("chev-rot"),a(o))})})}export{v as initNavigation};
