{# {% set topNav = craft.navigation.nodes().handle('topNavigation').level(1).all() %} #}
{% set mainNavigation = craft.navigation.nodes().handle('mainNavigation').level(1).all() %}

{% if entry is not defined %}
	{% set entry = category %}
{% endif %}

<nav class="absolute w-full z-10">
	<div class="container mx-auto">
		<div class="flex items-center justify-between h-16 pt-10">
			<div class="flex">
				<a href="/" class="logo w-[150px] sm:w-[200px]">
					<div class="sr-only">Back to hompage</div>

					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 310.07 80.28" class="w-full">
						<g><rect y="8.58" width="310.07" height="54.68" fill="none"/>
                            <path d="M24.3,8.58c2.04,0,3.9.18,5.58.54,1.68.36,3.12.95,4.32,1.77,1.2.82,2.13,1.91,2.79,3.27.66,1.36.99,3.04.99,5.04,0,2.16-.49,3.96-1.47,5.4-.98,1.44-2.43,2.62-4.35,3.54,2.64.76,4.61,2.09,5.91,3.99,1.3,1.9,1.95,4.19,1.95,6.87,0,2.16-.42,4.03-1.26,5.61-.84,1.58-1.97,2.87-3.39,3.87-1.42,1-3.04,1.74-4.86,2.22-1.82.48-3.69.72-5.61.72H4.14V8.58h20.16ZM23.1,25.92c1.68,0,3.06-.4,4.14-1.2,1.08-.8,1.62-2.1,1.62-3.9,0-1-.18-1.82-.54-2.46-.36-.64-.84-1.14-1.44-1.5s-1.29-.61-2.07-.75c-.78-.14-1.59-.21-2.43-.21h-8.82v10.02h9.54ZM23.64,44.1c.92,0,1.8-.09,2.64-.27.84-.18,1.58-.48,2.22-.9.64-.42,1.15-.99,1.53-1.71.38-.72.57-1.64.57-2.76,0-2.2-.62-3.77-1.86-4.71-1.24-.94-2.88-1.41-4.92-1.41h-10.26v11.76h10.08Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M45.66,29.19c.76-2.02,1.84-3.74,3.24-5.16,1.4-1.42,3.08-2.52,5.04-3.3,1.96-.78,4.16-1.17,6.6-1.17s4.65.39,6.63,1.17c1.98.78,3.67,1.88,5.07,3.3,1.4,1.42,2.48,3.14,3.24,5.16.76,2.02,1.14,4.27,1.14,6.75s-.38,4.72-1.14,6.72c-.76,2-1.84,3.71-3.24,5.13-1.4,1.42-3.09,2.51-5.07,3.27s-4.19,1.14-6.63,1.14-4.64-.38-6.6-1.14c-1.96-.76-3.64-1.85-5.04-3.27-1.4-1.42-2.48-3.13-3.24-5.13-.76-2-1.14-4.24-1.14-6.72s.38-4.73,1.14-6.75ZM53.4,39.57c.24,1.18.65,2.24,1.23,3.18.58.94,1.35,1.69,2.31,2.25.96.56,2.16.84,3.6.84s2.65-.28,3.63-.84c.98-.56,1.76-1.31,2.34-2.25.58-.94.99-2,1.23-3.18.24-1.18.36-2.39.36-3.63s-.12-2.46-.36-3.66c-.24-1.2-.65-2.26-1.23-3.18-.58-.92-1.36-1.67-2.34-2.25-.98-.58-2.19-.87-3.63-.87s-2.64.29-3.6.87c-.96.58-1.73,1.33-2.31,2.25-.58.92-.99,1.98-1.23,3.18-.24,1.2-.36,2.42-.36,3.66s.12,2.45.36,3.63Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M82.38,15.6v-7.02h8.52v7.02h-8.52ZM90.9,20.4v31.02h-8.52v-31.02h8.52Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M106.38,8.58v42.84h-8.52V8.58h8.52Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M122.22,43.98c1.28,1.24,3.12,1.86,5.52,1.86,1.72,0,3.2-.43,4.44-1.29,1.24-.86,2-1.77,2.28-2.73h7.5c-1.2,3.72-3.04,6.38-5.52,7.98-2.48,1.6-5.48,2.4-9,2.4-2.44,0-4.64-.39-6.6-1.17-1.96-.78-3.62-1.89-4.98-3.33-1.36-1.44-2.41-3.16-3.15-5.16-.74-2-1.11-4.2-1.11-6.6s.38-4.48,1.14-6.48c.76-2,1.84-3.73,3.24-5.19,1.4-1.46,3.07-2.61,5.01-3.45,1.94-.84,4.09-1.26,6.45-1.26,2.64,0,4.94.51,6.9,1.53,1.96,1.02,3.57,2.39,4.83,4.11,1.26,1.72,2.17,3.68,2.73,5.88.56,2.2.76,4.5.6,6.9h-22.38c.12,2.76.82,4.76,2.1,6ZM131.85,27.66c-1.02-1.12-2.57-1.68-4.65-1.68-1.36,0-2.49.23-3.39.69-.9.46-1.62,1.03-2.16,1.71-.54.68-.92,1.4-1.14,2.16-.22.76-.35,1.44-.39,2.04h13.86c-.4-2.16-1.11-3.8-2.13-4.92Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M155.64,20.4v5.76h.12c.4-.96.94-1.85,1.62-2.67.68-.82,1.46-1.52,2.34-2.1.88-.58,1.82-1.03,2.82-1.35,1-.32,2.04-.48,3.12-.48.56,0,1.18.1,1.86.3v7.92c-.4-.08-.88-.15-1.44-.21-.56-.06-1.1-.09-1.62-.09-1.56,0-2.88.26-3.96.78-1.08.52-1.95,1.23-2.61,2.13-.66.9-1.13,1.95-1.41,3.15-.28,1.2-.42,2.5-.42,3.9v13.98h-8.52v-31.02h8.1Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M178.98,20.4v3.96h.12c1.04-1.68,2.36-2.9,3.96-3.66,1.6-.76,3.36-1.14,5.28-1.14,2.44,0,4.54.46,6.3,1.38,1.76.92,3.22,2.14,4.38,3.66,1.16,1.52,2.02,3.29,2.58,5.31.56,2.02.84,4.13.84,6.33,0,2.08-.28,4.08-.84,6-.56,1.92-1.41,3.62-2.55,5.1-1.14,1.48-2.56,2.66-4.26,3.54-1.7.88-3.69,1.32-5.97,1.32-1.92,0-3.69-.39-5.31-1.17-1.62-.78-2.95-1.93-3.99-3.45h-.12v14.7h-8.52V20.4h8.1ZM190.05,45c.94-.56,1.7-1.29,2.28-2.19.58-.9.99-1.95,1.23-3.15.24-1.2.36-2.42.36-3.66s-.13-2.46-.39-3.66c-.26-1.2-.69-2.27-1.29-3.21-.6-.94-1.37-1.7-2.31-2.28-.94-.58-2.09-.87-3.45-.87s-2.57.29-3.51.87c-.94.58-1.7,1.33-2.28,2.25-.58.92-.99,1.98-1.23,3.18-.24,1.2-.36,2.44-.36,3.72s.13,2.46.39,3.66c.26,1.2.68,2.25,1.26,3.15.58.9,1.35,1.63,2.31,2.19.96.56,2.12.84,3.48.84s2.57-.28,3.51-.84Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M216.3,8.58v42.84h-8.52V8.58h8.52Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M222.66,29.94c.12-2,.62-3.66,1.5-4.98s2-2.38,3.36-3.18c1.36-.8,2.89-1.37,4.59-1.71,1.7-.34,3.41-.51,5.13-.51,1.56,0,3.14.11,4.74.33,1.6.22,3.06.65,4.38,1.29,1.32.64,2.4,1.53,3.24,2.67.84,1.14,1.26,2.65,1.26,4.53v16.14c0,1.4.08,2.74.24,4.02.16,1.28.44,2.24.84,2.88h-8.64c-.16-.48-.29-.97-.39-1.47-.1-.5-.17-1.01-.21-1.53-1.36,1.4-2.96,2.38-4.8,2.94-1.84.56-3.72.84-5.64.84-1.48,0-2.86-.18-4.14-.54-1.28-.36-2.4-.92-3.36-1.68-.96-.76-1.71-1.72-2.25-2.88-.54-1.16-.81-2.54-.81-4.14,0-1.76.31-3.21.93-4.35s1.42-2.05,2.4-2.73c.98-.68,2.1-1.19,3.36-1.53,1.26-.34,2.53-.61,3.81-.81,1.28-.2,2.54-.36,3.78-.48,1.24-.12,2.34-.3,3.3-.54.96-.24,1.72-.59,2.28-1.05.56-.46.82-1.13.78-2.01,0-.92-.15-1.65-.45-2.19-.3-.54-.7-.96-1.2-1.26-.5-.3-1.08-.5-1.74-.6-.66-.1-1.37-.15-2.13-.15-1.68,0-3,.36-3.96,1.08-.96.72-1.52,1.92-1.68,3.6h-8.52ZM242.34,36.24c-.36.32-.81.57-1.35.75-.54.18-1.12.33-1.74.45s-1.27.22-1.95.3c-.68.08-1.36.18-2.04.3-.64.12-1.27.28-1.89.48-.62.2-1.16.47-1.62.81-.46.34-.83.77-1.11,1.29-.28.52-.42,1.18-.42,1.98s.14,1.4.42,1.92c.28.52.66.93,1.14,1.23.48.3,1.04.51,1.68.63s1.3.18,1.98.18c1.68,0,2.98-.28,3.9-.84.92-.56,1.6-1.23,2.04-2.01.44-.78.71-1.57.81-2.37.1-.8.15-1.44.15-1.92v-3.18Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M274.5,20.4v5.7h-6.24v15.36c0,1.44.24,2.4.72,2.88.48.48,1.44.72,2.88.72.48,0,.94-.02,1.38-.06.44-.04.86-.1,1.26-.18v6.6c-.72.12-1.52.2-2.4.24-.88.04-1.74.06-2.58.06-1.32,0-2.57-.09-3.75-.27-1.18-.18-2.22-.53-3.12-1.05-.9-.52-1.61-1.26-2.13-2.22-.52-.96-.78-2.22-.78-3.78v-18.3h-5.16v-5.7h5.16v-9.3h8.52v9.3h6.24Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                            <path d="M287.7,43.98c1.28,1.24,3.12,1.86,5.52,1.86,1.72,0,3.2-.43,4.44-1.29,1.24-.86,2-1.77,2.28-2.73h7.5c-1.2,3.72-3.04,6.38-5.52,7.98-2.48,1.6-5.48,2.4-9,2.4-2.44,0-4.64-.39-6.6-1.17-1.96-.78-3.62-1.89-4.98-3.33-1.36-1.44-2.41-3.16-3.15-5.16-.74-2-1.11-4.2-1.11-6.6s.38-4.48,1.14-6.48c.76-2,1.84-3.73,3.24-5.19,1.4-1.46,3.07-2.61,5.01-3.45,1.94-.84,4.09-1.26,6.45-1.26,2.64,0,4.94.51,6.9,1.53,1.96,1.02,3.57,2.39,4.83,4.11,1.26,1.72,2.17,3.68,2.73,5.88.56,2.2.76,4.5.6,6.9h-22.38c.12,2.76.82,4.76,2.1,6ZM297.33,27.66c-1.02-1.12-2.57-1.68-4.65-1.68-1.36,0-2.49.23-3.39.69-.9.46-1.62,1.03-2.16,1.71-.54.68-.92,1.4-1.14,2.16-.22.76-.35,1.44-.39,2.04h13.86c-.4-2.16-1.11-3.8-2.13-4.92Z" fill="{% if entry.navigationTheme %}#ffffff{% else %}#000000{% endif %}"/>
                        </g>
					</svg>
				</a>
			</div>

			<!-- Menu (Desktop) -->
			{# <div class="" id="top-menu">
				<div class="space-x-6 items-center hidden md:block">
					{% for item in topNav %}
						<a href="{{ item.url }}" class="{% if entry.navigationTheme or entry.section.handle == "latest" %}text-black{% else %}text-white{% endif %} hover:underline">{{ item.title }}</a>
					{% endfor %}
				</div>
			</div> #}

			<!-- Mobile Hamburger -->
				<button id="menu-btn" class="flex items-center {% if entry.navigationTheme %}text-white{% else %}text-black{% endif %} cursor-pointer" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-menu" type="button"> Menu
				<div class="pl-3 flex-col justify-center items-center w-10 rounded-lg focus:outline-none">
					<span class="line block w-6 h-0.5 {% if entry.navigationTheme %}bg-white{% else %}bg-black{% endif %} rounded"></span>
					<span class="line block w-6 h-0.5 {% if entry.navigationTheme %}bg-white{% else %}bg-black{% endif %} rounded my-1.5"></span>
					<span class="line block w-6 h-0.5 {% if entry.navigationTheme %}bg-white{% else %}bg-black{% endif %} rounded"></span>
				</div>
			</button>
		</div>

		<!-- Mobile Menu (slide-down) -->
		<div id="mobile-menu" class="overflow-hidden max-h-0 transition-[max-height] duration-300 ease-in-out bg-navy text-white">
			<div class="container mx-auto md:pt-20 pt-30 md:flex justify-between h-full">
				<div class="flex flex-col justify-center md:w-1/3 md:mb-0 mb-10">
					{% for item in mainNavigation %}
						{% if item.children | length %}
							<!-- Parent with children -->
							<div>
								<a href="{{ item.url }}" class="{{ item.active ? 'underline' }} flex items-center justify-between py-3 text-3xl md:text-4xl rounded hover:underline text-white parent-link" aria-expanded="false" aria-controls="submenu-{{ item.title | lower }}">
									<span>{{ item.title }}</span>
									<svg class="chev w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"/>
									</svg>
								</a>

								<div id="submenu-{{ item.title | lower }}" class="overflow-hidden max-h-0 transition-[max-height] duration-300 ease-in-out pl-6" role="region" aria-label="{{ item.title | lower }} submenu">
									{% for child in item.children.all() %}
										<a href="{{ child.url }}" class="{{ item.active ? 'underline' }} block py-2 rounded hover:underline text-white">{{ child.title }}</a>
									{% endfor %}
								</div>
							</div>
						{% else %}
							<a href="{{ item.url }}" class="{{ item.active ? 'underline' }} py-3 text-3xl md:text-4xl rounded hover:underline text-white">{{ item.title }}</a>
						{% endif %}
					{% endfor %}
				</div>
				<div class="flex flex-col justify-center md:w-1/3">
					{# <div class="flex flex-col mb-10 lg:mb-75">
						{% for item in topNav %}
							<a href="{{ item.url }}" class="text-lg text-white hover:underline">{{ item.title }}</a>
						{% endfor %}
					</div> #}
					<div>
						<h2>Contact</h2>
						{% if companyInfo.phoneNumber | length %}
							<div class="tel mb-1">
								<a href="tel:{{ companyInfo.phoneNumber }}" class="link">{{ companyInfo.phoneNumber }}</a>
							</div>
						{% endif %}
						{% if companyInfo.email | length %}
							<div class="email">
								<a href="mailto:{{ companyInfo.email }}" class="link">{{ companyInfo.email }}</a>
							</div>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>
</nav>